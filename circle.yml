machine:
  python:
    version: 3.5.0
  environment:
    DJANGO_SETTINGS_MODULE: {{ project_name }}.settings.dev
    ENVIRONMENT: ci
  timezone:
    UTC
dependencies:
  pre:
    - sudo apt-get update
  override:
    - pip install -U pip
    - pip install -r requirements/dev.txt
    - nvm install 4.2
    - nvm use 4.2
    - npm install
    - npm install -g jshint
test:
  override:
    - make -k
    - make docs
deployment:
  central-deploy:
    branch: [master, develop]
    owner: {{ project_name }}
    commands:
      - ENVIRONMENT=deploy python manage.py deploy
  central-nodeploy:
    branch: [/.*/]
    owner: {{ project_name }}
    commands:
        - echo 'skipping deploy.'
  fork-nodeploy-blacklist:
    branch: [master, develop]
    commands:
        - echo 'skipping deploy.'
  fork-deploy:
    branch: [/.*/]
    commands:
        - echo 'fork deploy not implemented.'
